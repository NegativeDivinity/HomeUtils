{"ast":null,"code":"import _slicedToArray from\"C:/Users/Skele/Documents/GitHub/HomeUtils/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/Skele/Documents/GitHub/HomeUtils/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate,useParams}from'react-router';import styled from'styled-components';import{detailsRecipe,updateRecipe}from'../actions/recipeActions';import IngredientList from'../components/IngredientList';import DirectionList from'../components/DirectionList';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{RECIPE_DETAILS_UPDATE_RESET}from'../constants/recipeConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    margin-top: 2%;\\n    color: white;\\n    display: flex;\\n\"])));var RecipeEditForm=styled.form(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    margin: 0 0 1% 5%;\\n    width: 25%;\\n    height: 20%;\\n    border: solid black 3px;\\n    padding: 10px;\\n    border-radius: 10px;\\n    background-color: rgb(73, 73, 77);\\n\\n    h1 {\\n        text-align: center;\\n    }\\n\\n    div {\\n        display: flex;\\n        justify-content: space-between;\\n        padding: 15px;\\n        color: white;\\n        font-size: 20px;\\n\\n        input {\\n            padding: 5px;\\n            width: 50%;\\n            border-radius: 10px;\\n            outline: none;\\n            border: none;\\n        }\\n    }\\n\"])));var InfoForm=styled.form(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    margin: 0 0 1% 5%;\\n    width: 25%;\\n    border: solid black 3px;\\n    padding: 10px;\\n    border-radius: 10px;\\n    background-color: rgb(73, 73, 77);\\n    height: fit-content;\\n\\n    h1 {\\n        text-align: center;\\n    }\\n\"])));var Submit=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    width: 80%;\\n    margin: 2% 0 0 10%;\\n    border-radius: 10px;\\n    padding: 10px;\\n    cursor: pointer;\\n\\n    &:hover {\\n        opacity: 0.7;\\n    }\\n\"])));export default function GroceryEdit(){var dispatch=useDispatch();var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var recipeDetails=useSelector(function(state){return state.recipeDetails;});var loadingDetail=recipeDetails.loading,errorDetail=recipeDetails.error,recipe=recipeDetails.recipe;var recipeUpdate=useSelector(function(state){return state.recipeUpdate;});var success=recipeUpdate.success;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];useEffect(function(){if(success){navigate('/recipe');}if(!recipe||recipe._id!==id||success){dispatch({type:RECIPE_DETAILS_UPDATE_RESET});dispatch(detailsRecipe(id));}else{setName(recipe.name);setType(recipe.type);}},[dispatch,id,navigate,success,recipe]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(updateRecipe({_id:id,name:name,type:type}));};return/*#__PURE__*/_jsx(PageWrapper,{children:loadingDetail?/*#__PURE__*/_jsx(LoadingBox,{}):errorDetail?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDetail}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(RecipeEditForm,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{children:recipe.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type\",children:\"Type: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"type\",value:type,onChange:function onChange(e){return setType(e.target.value);}})]}),/*#__PURE__*/_jsx(Submit,{type:\"submit\",children:\"Update\"})]}),/*#__PURE__*/_jsxs(InfoForm,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Ingredients\"}),/*#__PURE__*/_jsx(IngredientList,{ingredients:recipe.ingredients}),/*#__PURE__*/_jsx(Submit,{onClick:function onClick(){return navigate(\"/ingredients/\".concat(recipe._id));},children:\"Edit\"})]}),/*#__PURE__*/_jsxs(InfoForm,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Directions\"}),/*#__PURE__*/_jsx(DirectionList,{directions:recipe.directions}),/*#__PURE__*/_jsx(Submit,{onClick:function onClick(){return navigate(\"/directions/\".concat(recipe._id));},children:\"Edit\"})]})]})});}","map":{"version":3,"sources":["C:/Users/Skele/Documents/GitHub/HomeUtils/client/src/pages/RecipeEdit.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","useNavigate","useParams","styled","detailsRecipe","updateRecipe","IngredientList","DirectionList","LoadingBox","MessageBox","RECIPE_DETAILS_UPDATE_RESET","PageWrapper","div","RecipeEditForm","form","InfoForm","Submit","button","GroceryEdit","dispatch","navigate","id","recipeDetails","state","loadingDetail","loading","errorDetail","error","recipe","recipeUpdate","success","name","setName","type","setType","_id","submitHandler","e","preventDefault","target","value","ingredients","directions"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate, useParams } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport { detailsRecipe, updateRecipe } from '../actions/recipeActions';\r\nimport IngredientList from '../components/IngredientList';\r\nimport DirectionList from '../components/DirectionList';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { RECIPE_DETAILS_UPDATE_RESET } from '../constants/recipeConstants';\r\n\r\nconst PageWrapper = styled.div`\r\n    margin-top: 2%;\r\n    color: white;\r\n    display: flex;\r\n`;\r\n\r\nconst RecipeEditForm = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 0 0 1% 5%;\r\n    width: 25%;\r\n    height: 20%;\r\n    border: solid black 3px;\r\n    padding: 10px;\r\n    border-radius: 10px;\r\n    background-color: rgb(73, 73, 77);\r\n\r\n    h1 {\r\n        text-align: center;\r\n    }\r\n\r\n    div {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        padding: 15px;\r\n        color: white;\r\n        font-size: 20px;\r\n\r\n        input {\r\n            padding: 5px;\r\n            width: 50%;\r\n            border-radius: 10px;\r\n            outline: none;\r\n            border: none;\r\n        }\r\n    }\r\n`;\r\n\r\nconst InfoForm = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 0 0 1% 5%;\r\n    width: 25%;\r\n    border: solid black 3px;\r\n    padding: 10px;\r\n    border-radius: 10px;\r\n    background-color: rgb(73, 73, 77);\r\n    height: fit-content;\r\n\r\n    h1 {\r\n        text-align: center;\r\n    }\r\n`;\r\n\r\nconst Submit = styled.button`\r\n    width: 80%;\r\n    margin: 2% 0 0 10%;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        opacity: 0.7;\r\n    }\r\n`;\r\n\r\nexport default function GroceryEdit() {\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const {id} = useParams();\r\n\r\n    const recipeDetails = useSelector(state => state.recipeDetails);\r\n    const {loading: loadingDetail, error: errorDetail, recipe} = recipeDetails;\r\n\r\n    const recipeUpdate = useSelector(state => state.recipeUpdate);\r\n    const {success} = recipeUpdate;\r\n\r\n    const [name, setName] = useState('');\r\n    const [type, setType] = useState('');\r\n\r\n    useEffect(() => {\r\n\r\n        if (success) {\r\n            navigate('/recipe');\r\n        }\r\n\r\n        if (!recipe || (recipe._id !== id || success)) {\r\n            dispatch({type: RECIPE_DETAILS_UPDATE_RESET});\r\n            dispatch(detailsRecipe(id));\r\n        } else {\r\n            setName(recipe.name);\r\n            setType(recipe.type);\r\n        }\r\n\r\n    }, [dispatch, id, navigate, success, recipe]);\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n            \r\n        dispatch(updateRecipe({\r\n            _id: id, \r\n            name, \r\n            type,\r\n        }));\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n       <PageWrapper>\r\n           {loadingDetail ? (\r\n                    <LoadingBox />\r\n                ) : errorDetail ? (\r\n                    <MessageBox variant = 'danger'>{errorDetail}</MessageBox>\r\n                ) : (\r\n                    <>\r\n                        <RecipeEditForm onSubmit = {submitHandler}>\r\n                            <h1>{recipe.name}</h1>\r\n                            <div>\r\n                                <label htmlFor=\"name\">Name: </label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    id = 'name'\r\n                                    value = {name} \r\n                                    onChange = {(e) => setName(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"type\">Type: </label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    id = 'type' \r\n                                    value = {type} \r\n                                    onChange = {(e) => setType(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <Submit type = 'submit'>Update</Submit>\r\n                        </RecipeEditForm>\r\n                        <InfoForm>\r\n                            <h1>Ingredients</h1>\r\n                            <IngredientList ingredients = {recipe.ingredients}/>\r\n                            <Submit onClick = {() => navigate(`/ingredients/${recipe._id}`)}>Edit</Submit>\r\n                        </InfoForm>\r\n                        <InfoForm>\r\n                            <h1>Directions</h1>\r\n                            <DirectionList directions = {recipe.directions}/>\r\n                            <Submit onClick = {() => navigate(`/directions/${recipe._id}`)}>Edit</Submit>\r\n                        </InfoForm>\r\n                    </>\r\n                )\r\n            }\r\n       </PageWrapper>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}